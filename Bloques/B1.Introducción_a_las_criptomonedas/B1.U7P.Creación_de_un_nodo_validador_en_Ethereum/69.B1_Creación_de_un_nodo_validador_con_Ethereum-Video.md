---
title: Creación de un nodo validador con Ethereum | José Maldonado
URL: https://app.web3mba.io/courses/take/bloque-1-introduccion-a-las-criptomonedas/lessons/38965130-creacion-de-un-nodo-validador-con-ethereum-jose-maldonado
Tags/Keywords: #Bloque 1 #Introduccion a las cirptomonedas #B1U7 #Ethereum 2.0 #practica #Creación de un nodo validador #José Maldonado #nodo validador con Ethereum #Creación nodo #validador Ethereum #Ethereum
lang: es-AR
---
# Creación de un nodo validador con Ethereum
![[69.B1_Creación_de_un_nodo_validador_con_Ethereum.mp4]]
[Creación de un nodo validador con Ethereum](https://app.web3mba.io/courses/take/bloque-1-introduccion-a-las-criptomonedas/lessons/38965130-creacion-de-un-nodo-validador-con-ethereum-jose-maldonado)

Salud y bienvenidos a este vídeo en el que les explicaremos cómo formar parte de la red Ethereum 2.0 utilizando un nodo de tipo GETH y cómo pueden utilizar este nodo para participar en el proceso de validación de nodos dentro del nuevo esquema de Proof of Stake de Ethereum 2.0.

En el vídeo anterior, en el que explicamos cómo era la minería de Ethereum, hablábamos de la minería en el sistema Proof of Work, un proceso que ya no se lleva a cabo en Ethereum y que ha sido reemplazado por Proof of Stake, tal como se ha implementado recientemente en esta red. Sin embargo, el vídeo sobre Proof of Work, en el que enseñamos cómo minar en Ethereum, puede ser de gran utilidad para otras redes, como Ethereum Classic o monedas del tipo FIRA, que pueden ser minadas utilizando este tipo de minería por GPU.

Ahora bien, ¿cómo podemos empezar e instalar un nodo GETH y formar parte de la capa de ejecución de Ethereum? ¿Y cómo podemos llevar este nodo a la capa de validación de la nueva Ethereum 2.0? Lo primero que haremos es ir a Geth. Estamos realizando esto en una instalación limpia de Ubuntu para tener todo lo necesario para este tipo de tareas. Aquí podemos ver que estamos dentro de Go Ethereum o GETH, como se le conoce comúnmente en el ecosistema de Ethereum. Este es el cliente oficial para la generación de nodos de Ethereum. Pueden ver que este nodo se puede descargar fácilmente utilizando la opción de Descargas. Tenemos versiones tanto para Windows como para MacOS y Linux. En este caso, utilizaremos la versión para Linux y podemos ver que tenemos la versión 1.10.25 llamada nemata, que es la última versión disponible. Podemos ver todas las descargas disponibles. Para nuestro caso, buscamos una instalación para Linux y seleccionamos la versión que se ajusta a nuestras necesidades, en este caso, Linux, versión 10.25, nuestra arquitectura es AMD 64, 64 bits, y simplemente hacemos clic en el enlace correspondiente. Con eso comienza la descarga, esperamos que finalice y continuamos con el proceso de instalación. Aquí podemos ver que ya ha terminado la descarga de GetLinuxAM64, que es nuestra arquitectura de computadora.

Ya está descomprimida la carpeta y al entrar podemos ver simplemente el ejecutable de Geth junto con un documento de copia, que en este caso es la licencia de Geth. También hemos creado un pequeño script, que vamos a explicar a continuación. El script simplemente ejecutará Geth con las opciones necesarias para poder disfrutar de Geth utilizándolo con nuestra wallet Metamask como intermediario. En este caso, Geth se iniciará con las opciones HTTP para activar el servidor HTTP. Habilitaremos las APIs de administración, web3, eth, tx, pool, personal y net. Estas APIs nos permitirán manejar y administrar nuestro nodo GETH utilizando Metamask de forma sencilla, sin necesidad de acceder a la interfaz de consola de este sistema. Además, hemos activado la opción CORS Domain. Aquí haremos un pequeño cambio y vamos a iniciar la red utilizando la red mainnet de Ethereum, que es la red principal.

Con estas opciones, ya podemos ejecutar nuestro sistema. Abrimos una terminal y para ejecutar simplemente escribimos bash geth.sh, presionamos enter y ya tenemos nuestro sistema en funcionamiento, comenzando así el proceso de sincronización de nuestro nodo.

Podemos ver que nuestro nodo está iniciando el proceso de sincronización. Observamos los puntos de hard fork. En este caso, estamos utilizando la red mainnet. Consensus, que es el consenso actual en la red, es el bacon, que es el proof of stake, y el merged de hash, que es proof of work. Aquí están todos los forks ya definidos y vemos la dificultad terminal de la activación del merge. También podemos ver toda la información del proceso de sincronización. Lo que debemos esperar en este punto es que todo el proceso de sincronización se complete para poder empezar a utilizar todo el sistema.

Ahora bien, hace unos segundos mencionamos que podemos utilizar Geth para conectar con una wallet Metamask. Vamos a hacer esa configuración rápidamente. Buscamos en Firefox, agregamos el complemento, buscamos Metamask y aquí está, Metamask de Dan Finley y Co. Tengan cuidado, debe ser esta extensión, que es la oficial, o pueden ir a metamask.io, que es la web oficial de Metamask. Tengan mucha atención con esto, ya que ha habido casos de personas que han instalado versiones no oficiales de Metamask y han sufrido pérdidas de tokens o criptomonedas. Así que asegúrense de que la dirección sea metamask.io de Dan Finley y Co. para la extensión directamente desde los repositorios de Mozilla o desde la página oficial metamask.io. Simplemente hacemos clic en "Agregar a Firefox" y esperamos el proceso de instalación. Muy bien, ya hemos instalado. Realizamos el proceso normal de verificación. Vamos a importar una cartera. Ya estamos listos para importar la cartera y efectivamente la tenemos importada. Aquí podemos ver un saldo activo en este monedero. Ahora vamos a configuración y redes. En redes, activamos la red local con el identificador de paridad 1. Hacemos clic en guardar. Con esto, ya estamos utilizando Metamask con nuestro nodo local GETH. Esta simple configuración nos permite utilizar nuestro nodo GETH, que estamos actualizando aquí, para aprovechar todo el potencial de nuestro propio nodo para realizar operaciones.

¿Cuál es el punto aquí? Explico por qué ahora no aparecen los saldos que teníamos anteriormente. Sucede que para ver los saldos, necesitamos tener nuestro nodo completamente sincronizado. En este caso, apenas estamos comenzando el proceso de sincronización. Esto significa que debemos esperar a que todo el proceso de sincronización de la red se complete para poder disfrutar de nuestro nodo como debe ser. Es decir, hasta que no se sincronice, no veremos los saldos positivos y todos los tokens que tengamos en nuestro monedero. Pero efectivamente ya estamos conectados a nuestro nodo y podemos comenzar. Simplemente debemos esperar a que esa sincronización se complete para disfrutar de esta funcionalidad. Si deseas esperar a que todo el proceso de sincronización termine, pero seguir utilizando el poder de Metamask para interactuar con otras cuestiones, simplemente debes cambiar la configuración de las redes de pruebas y podemos alternar entre las redes. Por ejemplo, en la red principal de Ethereum, si cerramos aquí, ya podemos ver nuestros saldos. Pero si volvemos a nuestro nodo local, no los veremos porque efectivamente la información de nuestro nodo local no está completa. Con esto, tendríamos nuestro nodo local activo y nuestra Metamask conectada a dicho nodo.

Ahora bien, en este punto, lo que estamos haciendo aquí con el nodo GETH, voy a minimizar esto, es crear un nodo GETH para formar parte de la capa de ejecución de Ethereum. La capa de ejecución de Ethereum es lo que se conocía anteriormente como la mainnet, la única capa que existía en la red de Ethereum. Lo que sucede es que con el cambio al sistema de Proof of Stake, todo esto de la capa anterior de Ethereum pasó a ser una segunda capa en Ethereum 2.0. La capa de consenso, el punto donde se da el consenso, donde se validan los bloques, porque ya no hay minería en Proof of Stake, sino validación. La capa de consenso es donde se validan los bloques dentro de Ethereum. Esta capa de consenso solo puede ser accedida mediante nodos especiales. Uno de esos nodos especiales es Prysm.

Aquí está Prysm (en GitHub), esta es la implementación más cercana a lo oficial para el nodo de la capa de consenso de Ethereum. De hecho, Prysm es una implementación de consenso de Ethereum escrita en Go. Descargar Prysm es bastante sencillo. Simplemente podemos ir a la parte de Relays (en GitHub). Aquí está. Vamos a descargarlo y tenemos las opciones para Linux AMD64, que son las que vamos a descargar. Fíjense que se llama BaconChain. Simplemente la descargamos y esperamos a que termine el proceso de descarga. Muy bien, ya está casi terminando la descarga de BaconChain, el software de Prysm. Aquí estamos dentro de la documentación oficial de Prysm para este software de nodo. Este software de nodo, como ya les he mencionado, es para la capa de consenso. Aquí podemos ver rápidamente una forma de empezar a utilizar este nodo. Simplemente seleccionamos la configuración. En este caso, estamos eligiendo la configuración para el sistema operativo Linux, la red mainnet y aquí debemos elegir la opción de Geth. Fíjense que también tenemos clientes como Nethermind y Besu, que son dos softwares que también nos permiten desplegar nodos de Ethereum para la capa de ejecución. Vamos a activar la opción de HTTP JWT, que es el sistema que nos permitirá interconectar los dos nodos, en este caso, el de Prysm y el de Geth.

¿Para qué se necesitan dos nodos en la red de Ethereum? Bueno, el primer nodo, que es el de ejecución, llevado por Geth, simplemente nos sirve para contribuir a la seguridad de Ethereum, tal como se indica aquí, para permitirnos acceder a Ethereum y realizar transacciones y diferentes operaciones, porque este tipo de nodos nos permiten hacer este tipo de operaciones. También funciona como validadores post-generación del bloque, que formarán parte del historial de la red de Ethereum. Recordemos que en la capa de ejecución es donde se realiza el almacenamiento final de cada uno de los bloques que formarán parte del historial de Ethereum. Por lo tanto, el nodo GETH es necesario para formar parte de la red, y el nodo Prysm es necesario para la validación, lo que nos permitirá construir y validar bloques directamente dentro del protocolo de consenso. Para ello, necesitamos mantener los 32 ETH requeridos para ejecutar un nodo en la red de Ethereum.

El punto clave aquí es tener los 32 ETH, porque si no tienes los 32 ETH para hacer staking, no podrás instalar el nodo Prysm. O podrás instalarlo, pero no podrás participar en el protocolo de consenso. Las opciones son, si deseas probar esto de forma no costosa, puedes hacerlo en la red testnet, pero para ello debes reconfigurar el nodo Geth para usar la red testnet. En este caso, puede ser la red Goerli, Ropsten o Sepolia, dependiendo de tus necesidades. Para que lo tengas en cuenta, si deseas ejecutar Prysm en tu computadora y quieres tener todas sus funciones, debes tener los 32 ETH de la red mainnet o los 32 ETH de la red testnet. Recuerda que los 32 ETH de la red testnet no tienen ningún costo, ya que son monedas de la red de pruebas.

Instalando Prysm, entonces, en este punto, ya hemos descargado el software, simplemente vamos a la carpeta y aquí está nuestro software, que es un binario que podemos ejecutar directamente. Vamos a abrir nuestra terminal rápidamente. Si vamos aquí, hacemos... BaconChain mod. Aquí lo haremos ejecutable y si ejecutamos BaconChain, podemos usar el comando help para ver la ayuda. Aquí podemos ver que ya está funcionando nuestro nodo para poder ejecutarlo. En este caso, lo que tenemos aquí es simplemente el sistema de ayuda, todas las opciones que tenemos para ello. Pero si ejecutamos directamente, podemos ver que ya estamos dentro de la red Ethereum como parte del consenso. En este punto, no estamos realizando ningún proceso de validación porque no tenemos los 32 ETH haciendo staking. Pero ya se inicia la sincronización inicial dentro de la red Bacon y podemos dejarlo ejecutando para completar la sincronización. Un punto importante es que tanto la BaconChain, que es ejecutada por Prysm, como la cadena anterior, que es la que ejecuta Geth, deben estar sincronizadas para poder llevar a cabo el proceso de validación. Así que podemos dejar en segundo plano la ejecución de Prysm y la ejecución de Geth. Esta es la de Geth, y esta es la de Prysm. ¿Se está sincronizando todavía? Mientras estas dos redes se sincronizan, podemos seguir leyendo la documentación oficial para realizar todo el proceso de conexión de los nuevos Prism. Les recomiendo que sigan paso a paso toda la documentación proporcionada por Prysm, que muestra cómo hacerlo con todo detalle, incluyendo, por supuesto, la habilitación de las APIs necesarias para conectar tu nodo Prysm al nodo Geth, y así poder ejecutar el validador. Nuevamente repito, necesitarán tener los 32 ETH necesarios para comenzar con la validación de bloques en la red Ethereum. Este es el principal cambio en la red Ethereum y su modelo de Proof of Stake para generar bloques. Espero que les haya gustado el vídeo, mostrando cómo podemos formar parte de esta red y convertirnos en validadores de bloques, recibir nuestras recompensas y mantener nuestros nodos Ethereum funcionando de manera positiva para nosotros.