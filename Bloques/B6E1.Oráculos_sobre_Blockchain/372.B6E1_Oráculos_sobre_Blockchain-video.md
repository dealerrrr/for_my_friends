---
title: Oráculos sobre Blockchain | Pablo Penadés
URL: https://app.web3mba.io/courses/take/bloque-6-electiva-1-oraculos-sobre-blockchain/lessons/39804707-oraculos-sobre-blockchain-pablo-penades
Tags/Keywords: #Bloque 6 #Electiva 1 #Oráculos sobre Blockchain #B6E1 #Oráculos #Blockchain #Pablo Penadés
lang: es-AR
---
# Oráculos sobre Blockchain
![[372.B6E1_Oráculos_sobre_Blockchain.mp4]]
[Oraculos sobre Blockchain](https://app.web3mba.io?wvideo=p56wm3eoxo)

Vamos a hablar sobre los oráculos en blockchain, una de las tecnologías más innovadoras que permiten un universo mucho más allá de lo que teníamos hasta últimamente. Los protocolos de las blockchains y los smart contracts están limitados a obtener información y acceder a datos que estén dentro de la propia blockchain. Esta limitación ha llevado a los desarrolladores a crear los oráculos. Estos son, en pocas palabras, un servicio que envía y verifica información del mundo real que es relevante para la blockchain o para un smart contract. Todo esto se presenta en forma de datos electrónicos que pueden ser asimilados por las redes que los sostienen.

En este sentido, podemos decir que los oráculos son piezas de código que sirven como puente entre el mundo real y el representado por la blockchain y sus protocolos. Es un puente que permite interactuar a las blockchains y a los smart contracts con el mundo real. Un oráculo tiene como principal función ser un servicio mediante el cual una blockchain o un smart contract se nutre de la información externa de la blockchain sobre la que se ejecuta. Esta información puede desencadenar una acción específica dentro de la red según una determinada programación. Por tanto, un oráculo puede ser utilizado, por ejemplo, para recopilar distintos datos de varias páginas web que revelen un resultado, como podría ser en el caso de eventos deportivos.

Además, el oráculo recopila y verifica la información desde estas páginas web para crear un consenso y dar un resultado preciso que no pueda ser manipulado. Este es el punto esencial de los oráculos. De este modo, los oráculos son un tipo de fuente de datos que informan a la red sobre los sucesos que ocurren en el exterior. Con esto, permiten que el smart contract pueda ser activado para liberar los fondos después de que se cumplan las condiciones predeterminadas del acuerdo, como podría ser un resultado deportivo. Así, el potencial de los smart contracts se extiende mucho más allá de lo que veíamos hasta ahora.

A pesar de estos ejemplos, te puedes preguntar: ¿cuál es la utilidad real de un oráculo? A decir verdad, tiene muchísima utilidad y para conocer un poco sobre esto, veamos aún más ejemplos. Imaginemos que dos personas hacen una apuesta sobre un partido de fútbol. En dicha apuesta, Pedro apuesta a que gana el equipo A y Juan a que gana el equipo B. Ambos definen el acuerdo, las condiciones y el dinero de la apuesta. Luego envían los fondos al smart contract que contiene todos estos parámetros y condiciones. Mientras el partido va transcurriendo, el oráculo va obteniendo la información del partido hasta su final, momento en el que analiza todas las condiciones para luego liberar los fondos al ganador de la apuesta. Este ejemplo es, obviamente, de una apuesta deportiva, pero el sistema también puede replicarse a todo tipo de aspectos. Y todo ello sin la intermediación de una plataforma centralizada que pueda hackearse, engañar a sus clientes o incluso censurarse.

Existen varios tipos de oráculos. El primer tipo es el de software. Este tipo de oráculos, conocidos como oráculos de software, gestionan información en línea y pueden extraer y ordenar datos como el clima, la temperatura, precios de productos, horarios de vuelos y muchos más. Todos estos datos pueden ser enviados luego al smart contract en el que fueron programados. El objetivo es que este smart contract pueda realizar las acciones correspondientes para las que fue diseñado. El segundo tipo es el de hardware. A diferencia de los oráculos de software, los oráculos de hardware permiten rastrear objetos del mundo real. Esto se debe a que algunos smart contracts requieren información del mundo real, como podría ser, por ejemplo, la llegada de un autobús a una parada, un barco a un puerto, o el movimiento de un automóvil cuando llega a un lugar determinado, o cuando cruza una barrera en una autopista.

Estos dispositivos de hardware brindan a los usuarios la capacidad de monitorizar cadenas de suministro completas a través de una blockchain. Así, este tipo de oráculos en particular incluye sensores de IoT, sensores RFID o lectores de códigos de barras. El tercer tipo de oráculos son los de entrantes y salientes. Los oráculos entrantes son aquellos que proporcionan información desde el exterior hacia la blockchain o al smart contract. Son muy empleados por empresas y compañías que desean automatizar distintas acciones que dependen de la introducción de la información. Por otro lado, los oráculos salientes son aquellos que brindan a la red la posibilidad de enviar datos al mundo real. Por ejemplo, en la tecnología de hogares inteligentes, este tipo de oráculos son muy comunes, puesto que permiten abrir una cerradura de un hogar inteligente una vez que se verifique la entrada autorizada a través de una clave privada, una firma criptográfica o de sensores biométricos.

El último tipo de oráculos es el de consenso, el cual ya mencionábamos en nuestro ejemplo, donde existen estos oráculos que se basan en el consenso para asegurar que una información confiable no pueda ser manipulada. Estos oráculos son ideales para monitorizar los mercados financieros, ya que recopilan información desde numerosos lugares para aportar datos correctos. Confiar en una única fuente de datos a veces puede ser problemático; la ventaja de estos oráculos es que nos permiten consultar distintas fuentes para obtener un resultado confiable y seguro.

Pero hablemos de lo más importante: los oráculos en Bitcoin. Si bien la red de Ethereum es actualmente la blockchain líder para el uso, implementación y ejecución de smart contracts, Bitcoin también tiene la capacidad de usar oráculos. Un buen ejemplo de esto es el proyecto desarrollado por el MIT, en el que se utilizan oráculos y smart contracts en la red de Lightning Network de Bitcoin. El nombre del proyecto es LEED y su objetivo es programar transacciones a partir de la ejecución de smart contracts. Esto permitiría proporcionar escalabilidad a la red y explorar las capacidades y potencialidades que poseen este tipo de contratos. Este proyecto utiliza un oráculo simple a través del cual se podrían agregar ciertas funcionalidades de los smart contracts a las transacciones realizadas en la red de Bitcoin, todo ello sin que represente un riesgo para la privacidad y la seguridad de la red. De esta forma, se puede transmitir información para la ejecución de un determinado contrato según los datos recibidos.

Veamos más características de los oráculos. Una de ellas es la privacidad, que es muy importante. Los oráculos no pueden saber si se ha iniciado un smart contract o si su información ha sido incluida en una blockchain. Por ello, se emplea un protocolo que mezcla la información suministrada por el oráculo antes de incluirla en la cadena. Así, la identidad de los usuarios se conserva en privado y se mantiene alejada de las miradas indiscretas. Otro pilar fundamental de los oráculos es la conectividad. Los oráculos permiten que los smart contracts puedan conectarse fuera de la cadena con proveedores de datos, como pueden ser API webs, sistemas IoT, sistemas de pago, backend empresariales y otras blockchains.

Los oráculos obtienen información a través de servicios centralizados de confianza, lo cual es muy importante, por lo que se requiere confiar en que el servicio del cual estamos leyendo o al cual se están enviando los datos es un servicio en el que podamos confiar. Aunque este es un problema que no se ha podido erradicar, se han implementado soluciones para mitigar este hecho. Otra pieza clave de los oráculos es la monetización. Los oráculos aún no han sido monetizados de forma razonable, por lo que para poder ver la adopción masiva de este tipo de herramientas es necesario que exista algún tipo de incentivo o recompensas para sus operadores. Sin embargo, no todo son ventajas. También hay riesgos asociados a los oráculos descentralizados. Los oráculos, en su concepción, han sido pensados como una pieza bajo un control centralizado, como comentábamos. Un modelo que está muy lejos del modelo descentralizado que ofrece la tecnología blockchain en general. Esto significa que al usar un servicio de este tipo, confías plenamente en la información de una entidad que puede manipular y corromper algo que, en principio, ha sido diseñado para que no se lea. Este es el mayor riesgo y desventaja de los oráculos, y para evitarlo, nacieron los oráculos descentralizados.

Un oráculo descentralizado obtiene la información desde múltiples oráculos y su programación se asegura de comunicar al smart contract lo que diga la mayoría de los oráculos. En este punto, es importante la descentralización del control sobre los diferentes oráculos que se utilicen. Dos proyectos muy importantes en este sentido son Proofable, que antes se llamaba Oracleis, y Chainlink, ambos ejecutándose sobre la blockchain de Ethereum. Los dos sistemas se sirven del poder de los smart contracts de Ethereum para construir un oráculo descentralizado que se alimente de diferentes fuentes de información y dé finalmente un resultado acorde a esos datos. Debido a su naturaleza blockchain, la programación de los smart contracts puede ser revisada libremente y no se puede alterar sin el consenso de todos quienes participen en el sistema. Esto garantiza que la información siempre será válida y libre de cualquier manipulación.

Veamos algunos casos de uso más populares de los oráculos. La blockchain y los smart contracts han introducido nuevas tecnologías radicales. Por ello, muchas empresas están adaptando sus infraestructuras para cumplir con las rigurosas demandas de verificación sobre la confianza. Así, los oráculos forman parte esencial de este proceso de cambio. Y esto crecerá a medida que las compañías comiencen a adoptar cada vez más la tecnología blockchain en sus operaciones. Un caso de uso ampliamente conocido es Augur. Esta es una plataforma de mercado de predicción descentralizada construida en la cadena de bloques de Ethereum. Uno de los proyectos que mayor relevancia ha tenido en el ecosistema de las DeFi es Chainlink, como comentábamos, y no precisamente por ser un protocolo de lending, de yield farming o liquidity mining, sino más bien por proveer un servicio que resulta vital para estas y otras plataformas. Es un oráculo descentralizado, seguro y confiable.

En este sentido, Chainlink es precisamente eso: una enorme red de oráculos descentralizados que se ejecuta con la ayuda de la red de Ethereum y está basada en el token ERC20, que permite crear una infraestructura de funcionamiento autosostenible, segura y, sobre todo, descentralizada. Chainlink se remonta a septiembre de 2014, cuando comenzó el proyecto smartcontract.com, donde la idea era crear una serie de infraestructuras descentralizadas capaces de crear puentes de comunicación entre los eventos del mundo real y las blockchains públicas. El trabajo rindió sus frutos a los tres años, en septiembre de 2017, cuando se dio a conocer el white paper de Chainlink. En él se describe un protocolo de oráculo descentralizado que se ejecutaría sobre la blockchain de Ethereum. Chainlink llamó la atención rápidamente de los inversores que, en pleno boom de la ICO, inyectaron 32 millones de dólares para su financiación. Todo ello, pese a que Chainlink era solamente una idea en un papel y en la mente de sus desarrolladores.

A diferencia de muchas ICO, el equipo de trabajo detrás de Chainlink rápidamente comenzó a mostrar avances en su idea. Las primeras pruebas del proyecto despejaron las dudas sobre este protocolo y, para el 1 de junio de 2019, se lanzaba con éxito la red principal de Chainlink. Con ello, se forjó uno de los principales pilares en el funcionamiento de los protocolos de las DeFi de la actualidad. Chainlink debe su funcionamiento a una red de nodos llamados Chainlink Nodes. El objetivo de estos nodos es ejecutar un programa capaz de vigilar los datos provenientes de un evento en el mundo real y alimentar con estos datos a los smart contracts que están funcionando sobre la red de Ethereum. Sin embargo, esto nos plantea una duda: ¿cómo estamos seguros de que los datos provistos por los nodos son correctos? Para solventar esto, Chainlink obtiene la información desde muchos nodos diferentes aleatoriamente. Tras eso, se genera un consenso entre las respuestas obtenidas, tomando como válida la respuesta indicada por la mayoría de ellos.

Como medida de protección para los datos manipulados, utiliza la teoría de juegos, además de incentivos o desincentivos para evitar malas prácticas o manipulación maliciosa de datos. El incentivo que comentábamos para los operadores de nodos es dar respuestas correctas a cambio de una pequeña compensación económica. Cuanto más exacta es la información, mejor es la compensación económica, por lo que se crea un ambiente en el que la certeza de los datos es recompensada. Por el contrario, la manipulación de datos desde los nodos acarrea lo contrario, suponiendo una especie de multa y la degradación en confianza de dicho nodo. Por tanto, existen varios elementos en la red que se encargan de asegurar en todo momento que la información es correcta y que cada nodo será analizado de forma justa y transparente. Para ello, cada área es ejecutada por una serie de smart contracts que describiremos a continuación.

En primer lugar, hay un contrato de reputación, el cual asigna una reputación a cada nodo dentro de la red, teniendo en cuenta la calidad de la información que ofrece. En segundo lugar, tenemos un contrato de coincidencia de pedidos, el cual acumula información de los nodos, los servidores que solicitan información, el tipo de información solicitada y los parámetros de consulta, además de la fuente de datos analizada. Finalmente, hay un contrato de agregación que se encarga de recopilar todas estas respuestas de los nodos, analizar los datos y ofrecer la respuesta final al solicitante de dicha información. Este sistema, por supuesto, tiene dos modelos de funcionamiento. En primer lugar, si un cliente hace una solicitud de información a Chainlink, este protocolo puede tomar la solicitud y atenderla de forma automática utilizando los recursos que están dentro de la red. Pero adicionalmente, el cliente puede hacer una solicitud de datos a un grupo personalizado de nodos, de los cuales obtendrá la respuesta que podrá ser verificada. Todo esto, por supuesto, sin dejar de lado la verificación de datos por parte de la red Chainlink, garantizando con ello la confiabilidad de la información que se reciba de dichos nodos.

En todo caso, la buena praxis de los nodos y sus operadores es recompensada con tokens LINK, el token nativo de la plataforma. Al final, los operadores obtienen ganancias comerciando dicho token o haciendo HODL. Por supuesto, los smart contracts sobre Ethereum son solo una parte del todo necesario para hacer funcionar Chainlink. Pero hay otra parte importante en el funcionamiento: los nodos y los operadores de los nodos. Estos son conocidos como la columna vertebral de Chainlink Network. Los operadores de nodos de Chainlink participan dentro de redes de oráculos descentralizados, lo que permite obtener datos externos de manera segura y confiable. Son ellos quienes operan la infraestructura de oráculos para que los contratos inteligentes en cada blockchain tengan acceso a los datos del mundo real que necesiten para ejecutarse correctamente. Por ejemplo, Chainlink proporciona una red de operadores y de nodos que actualmente aseguran más de 4.000 millones de dólares en valor para aplicaciones líderes de DeFi como Synthetix, Aave y muchas más.

Por último, la tercera parte y una de las más importantes del funcionamiento de Chainlink es su token. Se trata de un token ERC20, es decir, que funciona sobre la red de Ethereum, y es el encargado de servir de incentivo para que los operadores de nodos hagan un buen trabajo. Con cada nodo instalado y solicitud de información atendida de forma correcta, los nodos y sus operadores van acumulando tokens LINK que son entregados en compensación por su trabajo. En este sentido, podemos ver al token LINK de la misma manera que veríamos las monedas recién generadas en cada bloque de Bitcoin, o en el caso de un token de un token de Bitcoin que serían el pago por el trabajo que realizan los mineros. Así, un tenedor de tokens LINK puede ir a un exchange e intercambiar estos tokens por otros tokens, criptomonedas o incluso fiat. También, como en cualquier otra criptomoneda, se puede hacer HODL de estos tokens y apostar por su subida de precio, algo bastante usual debido al crecimiento que ha tenido dicho token en los últimos meses.

Uno de los principales retos de los oráculos blockchain es proteger la privacidad de sus usuarios. Sin embargo, el problema se presenta en dos sentidos. En primer lugar, no se quiere que el oráculo tenga un acceso muy elevado a la información de los usuarios que interactúan con él, junto a los servicios con los que interactúan estos. Y en segundo lugar, se busca que las sesiones y la información enviada y recibida por el oráculo no permitan la trazabilidad de dichos datos desde su origen hasta el destinatario, lo que permitiría identificar plenamente a las partes que hacen uso del oráculo. Pongamos un ejemplo para ver esto de una forma más sencilla. Supongamos que un usuario desea acceder a una DApp donde solo es posible entrar con una mayoría de edad. Para dicha capacidad, la DApp usa un oráculo que hace una búsqueda en una base de datos donde puede obtener esos datos. Al hacer la búsqueda, la información que está en la blockchain pasa al mundo real y se puede asociar a esa persona. Por lo tanto, podemos conocer su identidad real y todos sus datos.

Ante esta situación hay dos casos populares. En primer lugar, verificar la edad usando este sistema seguramente requerirá que el usuario indique un usuario y contraseña u otro tipo de autenticación para acceder a la información en la base de datos. En segundo lugar, la conexión entre el oráculo y la base de datos se da sobre canales en los que el usuario no tiene control de nada. Y en tercer lugar, bastaría con que quienes gestionan esa base de datos analizaran el tráfico de las solicitudes de búsqueda y su origen para saber qué hacen estas personas y por qué requieren de sus servicios. En cada uno de estos casos, la privacidad de los datos está en riesgo y Chainlink no escapa a esta realidad. La raíz del problema está en que, pese a que en la blockchain todo puede ser pseudoanónimo o completamente anónimo, no pasa lo mismo fuera del ecosistema. Cada vez que te conectas a Internet, comienzas a dejar rastros de tu identidad o de elementos que pueden llevar a las autoridades, o a quien le interese, hacia tus datos y hacia tu persona real. De hecho, el problema es aceptado en el mismo white paper de Chainlink, donde en su sección de confidencialidad hablan del problema y de una ventana posible para resolverlo. Sin embargo, aún no se ha completado del todo.

Hablemos ahora de Maker Oracle. Maker Protocol es uno de los protocolos DeFi más conocidos en el mundo y buena parte de su funcionalidad recae en los oráculos que sostienen su infraestructura. Estos oráculos tienen una función muy importante: vigilar y mantener actualizados los precios de cada tipo de garantía y criptomoneda que está soportada en el protocolo. De hecho, cada oráculo se compone de un módulo de seguridad Oracle, un OSM, y un medianizador o medianizer. Estos dos elementos son alimentados con información por medio de un sistema de feeds y relays. Estos dos sistemas están formados por distintos nodos que forman parte de la red de oráculos de Maker y que es posible gracias a una herramienta conocida como SetSet, la cual extrae el precio medio de un conjunto de fuentes de información, como puede ser un exchange, exploradores de tokens u otros, y lo envía a una red segura de transmisión que tiene repetidores que lo leen.

Los repetidores agregan los datos de los precios y envían una transacción al medianizer. En este punto, el medianizer toma la mediana de las múltiples medianas comunicadas y la publica como precio de referencia en cola. Este precio es luego pospuesto por el módulo de seguridad de Oracle antes de ser finalmente utilizado por el sistema. Los relés pueden configurar los parámetros en torno a cuándo enviar los datos de precios al medianizer. Solo el gobierno de Maker puede configurar o cambiar el medianizer y el módulo de seguridad de Oracle, asegurando el sistema para evitar que puedan manipularlo. Los oráculos de Maker se pueden usar en otros proyectos y, por lo tanto, este sistema es especialmente útil tanto para Maker como para otros proyectos que puedan beneficiarse de sus funciones.

Hablando de TWAP o Time-Weighted Average Price, en español precio promedio ponderado en el tiempo, es un avanzado oráculo blockchain desarrollado por el exchange descentralizado Uniswap. Su función es la de proveer el precio de diversos criptoactivos que son soportados por Uniswap y otras plataformas que usan TWAP como su fuente de información. La información dentro de TWAP se construye leyendo el precio acumulado de los tokens ERC20 en un intervalo de tiempo deseado. La diferencia de este precio acumulado puede dividirse entonces por la longitud del intervalo para crear un TWAP para ese periodo. Los TWAPs, por tanto, pueden utilizarse directamente o como base para las medias móviles, como son las EMAs y las SMAs.

Por otro lado, tenemos Proveable, del cual hablábamos antes, que es un servicio de oráculo para smart contracts y DApps para plataformas como Ethereum, Rootstock, R3, Corda, Hyperledger Fabric y EOS. El objetivo de Proveable es ofrecer datos obtenidos de la fuente original y permitir su verificación para que puedan reconocerse como auténticos y no hayan sido manipulados. Esto se consigue acompañando los datos devueltos de un documento llamado prueba de autenticidad o POA, donde las pruebas de autenticidad pueden basarse en diferentes tecnologías, como las máquinas virtuales auditables y los entornos de ejecución de confianza. Esta solución resuelve elegantemente el problema de los oráculos, que era que los desarrolladores de aplicaciones blockchain y los usuarios de dichas aplicaciones no tienen que confiar en Proof-of-Work. El modelo de seguridad se mantiene. Los proveedores de datos no tienen que modificar sus servicios para que sean compatibles con los protocolos de blockchain. Los contratos inteligentes pueden acceder directamente a los datos de los sitios web o a partir de APIs.

El motor Proveable puede integrarse fácilmente con instancias privadas y públicas de diferentes protocolos de blockchain. Durante la construcción del servicio, el equipo de Proveable se ha dado cuenta de que el concepto de pruebas de autenticidad tiene una aplicabilidad mucho más amplia de lo que inicialmente imaginaban. Por ejemplo, la fuente de datos aleatorias de Proveable puede ser utilizada incluso por aplicaciones de juego tradicional para garantizar a los usuarios la equidad continua de las operaciones. Este motor potencia el servicio tanto para las aplicaciones basadas en la cadena de bloques como para las que no lo están. Replica internamente un modelo lógico, si esto, entonces aquello, un if-then, y esto significa que ejecutará un determinado conjunto de instrucciones si se cumplen algunas otras condiciones dadas. Por ejemplo, podría verificar repetidamente una condición y solo devolver datos o realizar una acción cuando la condición se haya cumplido. Esta flexibilidad permite aprovechar el motor de muchas formas y contextos diferentes, incluso fuera de la propia blockchain.

Una solicitud válida de datos Proveable realizada a través de la integración nativa del blockchain o a través de una API HTTP debe especificar los siguientes argumentos: debe contar con un tipo de fuente de datos, una consulta y, opcionalmente, un tipo de prueba de autenticidad. En definitiva, hemos visto las alternativas que ofrecen los oráculos para expandir el universo blockchain y poder integrar eventos y agentes del mundo exterior. Pueden servir para automatizar tareas de formato IF-THEN y así poder ejecutar smart contracts o DApps sobre estos. Los oráculos tienen múltiples ventajas, como por ejemplo la automatización o el pseudoanonimato, pero también cuentan con problemas que hoy en día aún están por resolver. Sin embargo, el potencial de los oráculos es inmenso, sobre todo teniendo en cuenta el ámbito de las DeFi.