---
title: Modelos de negocio con un Nodo LN
URL: https://app.web3mba.io/courses/take/especializacion-2-sistemas-descentralizados/lessons/41082081-modelos-de-negocio-con-un-nodo-ln
Tags/Keywords: #Especialidad 2 #Sistemas descentralizados #E2U6 #Lightning Network #practica #Jose Maldonado #Modelos de negocio con un nodo #Modelos de negocio
lang: es-AR
---
# Modelos de negocio con un Nodo LN
![[544.E2_Modelos_de_negocio_con_un_Nodo_LN.mp4]]
[Modelos de negocio con un nodo LN.mp4](https://app.web3mba.io?wvideo=58gxfaex31)

Una de las cosas que más solemos ver dentro del mundo de las criptomonedas es la recomendación de instalar nuestros propios nodos para estar completamente descentralizados. Esto es cierto porque, a medida que instalamos nuestros propios nodos, tenemos la capacidad de interactuar con las redes blockchain de esos nodos de forma completamente descentralizada, teniendo nosotros el control total de dicha interacción.

Por ejemplo, cada vez que instalamos un nodo de Bitcoin, podemos interactuar, enviar y recibir información de la red Bitcoin sin que ningún intermediario esté de por medio, participando y teniendo la capacidad de prohibirnos esa conexión o de simplemente transformar esa conexión o interacción en algo que esté completamente a su merced. Podríamos verlo en el sentido de cómo ocurre con las redes o los wallets, como sería MetaMask, que dependen de servicios como Infura, que en este caso sería un tercero, para conectarse a la red de Ethereum y poder realizar operaciones con los tokens que tengamos dentro de la wallet MetaMask.

Este tipo de relación se puede evitar si, por ejemplo, instalamos un nodo de Ethereum dentro de nuestro computador y redirigimos toda esa interacción de MetaMask a nuestro nodo personal, de manera que podamos interactuar directamente con Ethereum sin tener que pasar por los servicios hospedados por Infura. Esta es una opción que nos permite descentralizar la interacción y que, adicionalmente, evita cualquier tipo de baneo o de listado negro que controle la forma en que interactuamos y realizamos operaciones dentro de la red de T-LINK. Lo mismo ocurre con el resto de redes. Cada uno de los nodos que podamos instalar dentro de esas redes puede servirnos para mantener una interacción directa y sin intermediarios, ayudándonos a mantener la seguridad de nuestras operaciones en las mismas.

Sin embargo, la instalación de nodos no solamente responde a un punto de descentralización. También responde a la necesidad de utilizar dichos nodos para tener la seguridad de implementar servicios que puedan ser útiles tanto para nosotros como para terceros. Utilizar el software de los nodos para generar software como servicio o SaaS. Este tipo de servicios puede ser implementado con diferentes herramientas. Por ejemplo, con servicios como Rasp. Rasp.Blitz, que es un desarrollo que nos permite crear nodos de Bitcoin online y en red de forma completamente hecha en casa. Este servicio, como pueden ver, tiene una página bastante sencilla, pero cuenta con todo lo necesario para desplegar este tipo de nodos que nos puedan servir en casa y que podamos tener interacción o control completo de nuestros nodos.

Por supuesto, no es el único, y hoy quiero mostrarles uno que no solamente nos permitirá crear nuestros propios nodos y monederos, sino también generar un software como servicio adicional, un valor agregado que es BTC Pay Server. En este caso, vamos a buscar la página de BTC Pay Server y vamos a explicar un poco de qué trata este proyecto. BTC Pay Server, como ven aquí en su página principal, es un servicio de pasarelas de pago, tal como podemos ver en pasarelas de pago como BTC Pay o BitPay, para ser más precisos. Este tipo de pasarelas de pago se pueden integrar a sitios web, tiendas en línea o tiendas físicas. BTC Pay Server permite a los usuarios de BTC Pay acceder a sus pasarelas de pago. Así que, si desean, pueden acceder a BTC Pay en su página de internet.

Gracias a la creación de estos servicios, se puede disfrutar de ellos teniendo el control total del mismo, utilizando software de nodos de Bitcoin y de otros monederos que son soportados, como la ICOIN. Generalmente, solo soporta servicios que están generados o que han sido forjados a partir del software de Bitcoin Core, como la ICOIN Gresley Coin. Este tipo de monedas podemos utilizarla con BTC Pay Server y también nos permite generar servicios de la ICOIN Network, que podemos integrar a tiendas físicas mediante un sistema de botones o mediante un sistema de generación de páginas web completamente dedicadas a vender o promocionar ciertos productos.

Ahora bien, BTC Pay Server tiene la opción de ser desplegado mediante hostings, es decir, por medio de hostings ya preparados directamente por terceros, para que con un par de clics podamos disfrutar de este tipo de servicios. Obviamente, esto no elimina la tercerización del acceso, porque este tercero también puede, al final, darnos la espalda y cerrar el acceso a dicho servidor, lo que nos dejaría sin acceso a este tipo de servicios. Sin embargo, BTC Pay Server tiene la capacidad de ser autohospedado. Es decir, podemos instalar nuestras propias instancias y mantenerlas bajo nuestro completo control. Para ello, vamos a ir al GitHub de BTC Pay Server, donde hay una opción muy interesante que es BTCPay Server Docker.

BTCPay Server Docker utiliza el software de Docker para crear un contenedor con todo lo necesario para ejecutar nuestro software de BTCPay Server. Como requisitos para instalar BTCPay Server Docker, necesitas instalar Docker. Vamos a ver un momento la página web de este desarrollo. Docker es simplemente una aplicación especializada que te permite instalar contenedores de aplicaciones dentro de tu sistema operativo. Estos contenedores tienen todas las dependencias, todo lo que se necesita para ejecutar una determinada aplicación, y es indistinto del sistema operativo que estés utilizando. Docker puede instalarse tanto para sistemas operativos Linux como para sistemas operativos Windows y Mac OS.

Ten en cuenta que en Windows hay un requerimiento adicional, que en este caso es WSL o Windows Subsystem for Linux, que es la opción más acorde o la mejor opción para ejecutar este tipo de software dentro de este sistema operativo. Para aquellos que tengan Windows y estén viendo este video, Windows Subsystem for Linux para Windows. Aquí pueden encontrar todas las instrucciones de instalación para WSL. Les recuerdo que WSL es un servicio que solamente está disponible para sistemas operativos Windows 10 o superiores y que deben tener un determinado nivel de hardware para ejecutarlo. Les recomiendo que las personas que se pongan a investigar con Windows Subsystem for Linux lo intenten con al menos 8 GB de memoria RAM y un procesador con un mínimo de 4 CPUs o 4 hilos de ejecución dentro de sus capacidades, porque este software es bastante pesado y requerirá de muchos recursos de computación para ejecutarse.

Todo esto que está aquí es la forma en cómo se instala dentro de Windows, y esto simplemente se cumple para las personas que tengan Windows. Estos dos requisitos, el de Docker y WSL, solo se cumplen para Windows. En el caso de que tengas Linux, generalmente Linux tiene la capacidad de instalar este tipo de aplicaciones de forma bastante más sencilla, porque hay soporte de forma nativa. Y en el caso de que tengas Mac OS, debes asegurarte de que tengas al menos 8 GB de memoria RAM, porque en macOS se ejecuta sobre una máquina virtual y esto, obviamente, requiere un poco más de recursos para poder ejecutarse.

En todo caso, aquí en Docker están todas las informaciones necesarias o todos los requisitos de este tipo de software para que se pueda ejecutar dentro de determinadas computadoras, y te recomiendo que leas esta información e instales estas dos herramientas para empezar a utilizar este tipo de servicios. Lo recomendable en este caso es que, si quieres probarlo, utilices una máquina virtual, que puede ser creada con VirtualBox o cualquier otro tipo de virtualización, e instales un sistema operativo como Linux. En este caso, estoy utilizando un sistema operativo Linux, en este caso Ubuntu 20.04, para instalar lo que se va a hacer con BTC Pay Server y probar este software para que ustedes entiendan cómo se instala y qué hacer.

Ahora bien, dicho esto, conocidas las dependencias iniciales para llegar a instalar este software, lo primero que vamos a hacer es realizar unas instalaciones un poco más generales. Lo primero que vamos a hacer es ir a la terminal y hacer una instalación de un software. Vamos a hacer una actualización inicial para comenzar la instalación de BTCPay. Vamos a hacer la instalación inicial de un software que necesitamos, que en este caso es git y rsync. El comando `apt install` es para instalar dentro de Ubuntu git y rsync. Estos dos software los vamos a utilizar o son requisitos previos para instalar lo que sería BTC Pay Server mediante Docker. Entonces, hacemos la instalación y esperamos un momento.

Ok, ya ha sido instalado. Entonces, lo siguiente que vamos a hacer es clonar el repositorio de BTCPayServerDocker. Para hacer la clonación, utilizamos el comando `git clone` y vamos a ir a la página de BTCPayServerDocker. Vamos a copiar esta línea y la vamos a pegar. Le damos a Enter. Y allí está nuestra clonación. Esperamos un momento. Muy bien, ya hemos terminado la clonación. Sigamos y revisemos. Podemos ver aquí nuestra carpeta BTCPayServerDocker. Entramos. Y en este punto, vamos a seguir las instrucciones que están dentro de lo que sería el repositorio de BTCPay Server.

Lo más interesante es la configuración de los parámetros necesarios para comenzar con la instalación, que serían estas variables de entorno. Vamos a copiarlas. Y lo que vamos a hacer en este punto es irnos a root. Aquí estamos en root, vamos a crear un documento, vamos a crear este archivo y vamos a copiar estas variables. Estas variables que están aquí son algunas variables iniciales que nos permitirán instalar BTCPay Docker dentro de nuestra computadora. Lo primero que vemos aquí es `BTCPayServerHost`, que en este caso lo vamos a cambiar a localhost. Normalmente debería ser la dirección o la URL del dominio que hayas comprado en caso de que quieras poner esto dentro de lo que sería el servicio de internet, pero como vamos a hacer un despliegue local, vamos a poner localhost.

La siguiente variable de entorno es `nBitcoinNetwork`, que en este caso va a ser la red mainnet, es decir, vamos a usar la red mainnet de Bitcoin. La primera criptomoneda que vamos a utilizar en BTC Pay Server va a ser la de BTC, pero también podemos agregar otra criptomoneda. En caso de que queramos agregar otra criptomoneda, ponemos `crypto2` y vamos a poner Litecoin. Estas serían las dos criptomonedas que estarían disponibles dentro de nuestro BTC Pay Server y otras opciones que serían `Additional Fragments`, que son opciones adicionales dentro de lo que sería BTC Pay Server. Estas opciones están descritas un poco más abajo.

Si ven aquí, están los fragments. Estas opciones son todas las que están disponibles para colocarse dentro de esta línea. La opción que tenemos en este caso, que es `OpsaveStorageS`, nos permite obtener o mantener dentro de nuestra computadora un Pruned Node de Bitcoin o Litecoin de hasta 50 GB. En este caso, como estamos ejecutando una máquina virtual reducida en espacio de almacenamiento, vamos a utilizar la versión XXS y la vamos a colocar aquí. Ya tenemos con eso el fragment necesario.

El `ReverseProxy` y `LightningNetwork`, en este caso, son opciones que están aquí. Vamos a verificar que esta opción de fragments nos funcione. Vamos a ver si podemos ejecutar Lightning Network con esa capacidad. Por ejemplo, aquí con XXS nos aparece que efectivamente no está soportado, por lo que no podemos ejecutar Lightning, así que debemos quitarla y dejar activado el servicio SSH para poder acceder a nuestro BTC Pay Server mediante ese servicio de conexión remota.

Ya con eso, simplemente guardamos el archivo y lo cargamos mediante un `source`. Esto se asegurará de que todas las variables de entorno estén cargadas dentro de nuestro entorno de ejecución. Aquí están, lo pueden ver, cada una de las opciones. Y cuando estemos ejecutando el script de instalación, que se ejecuta con el siguiente comando `btcpayserver-setup`, entonces comenzaríamos la instalación de BTCPay Server directamente. Esto va a tardar un poco, no se desesperen, es un proceso de instalación bastante lento. Simplemente coloquen el comando tal como aparece en pantalla y esperemos a que se culmine el proceso de instalación.

Vamos a iniciar, ahí está, efectivamente ya está comenzando la instalación. Todo este proceso se hace de forma automática, no deben tocar absolutamente nada, simplemente esperen a que todo el proceso termine y ya entonces tendremos nuestro BTC Pay Server sin ningún error ejecutándose dentro de nuestra computadora. Muy bien, aquí ya hemos terminado la instalación de nuestro BTC Pay Server dentro de nuestro computador, lo que incluye la instalación de lo que sería Bitcoin y su Bitcoin Core, Litecoin y su software de nodo, y todas las herramientas necesarias para ejecutar nuestro servidor BTC Pay Server.

Lo siguiente que vamos a hacer es acceder a nuestra página web, en este caso vamos a utilizar la dirección localhost. Ya automáticamente estamos entrando a nuestro BTC Pay Server. En caso de que tengan su servidor, existen una serie de comandos que son los que están aquí mostrados. Uno de ellos, muy importante, es el de cambiar el dominio. Ustedes tienen que llamar a este script que está en `user/local/bin/change-domain`. Aquí pueden colocar el dominio que necesiten. Por ejemplo, un dominio que no debería darles problemas sería localhost o una dirección dentro de lo que sería su red, en caso de que la máquina virtual que estén utilizando tenga acceso a red directa por medio de un bridge o cualquier otro tipo de medio de comunicación que les permita una dirección IP definida mediante algún protocolo como DHCP.

En todo caso, si se presenta algún problema, les recomiendo que utilicen este comando `change-domain` para cambiarlo, al menos, a localhost, de manera que no tenga ningún tipo de inconveniente, ya que es la opción más segura en caso de que tengan algún problema de acceso. Recordemos que esto está pensado siempre para ser desplegado dentro de internet y contando con dominios ya registrados a nivel de DNS, por lo que pueden presentarse algunos problemas y estas son las opciones para solucionarlo. Dicho esto, ya tenemos el localhost, ya podemos entonces entrar y generar nuestra primera cuenta. Vamos a crear nuestra cuenta de prueba.

Vamos a generar una cuenta, una contraseña segura mediante el sistema de generación de contraseñas de Firefox. Creamos nuestra cuenta, actualizamos y ya aquí podemos ver que se están sincronizando nuestros nodos, en este caso de Bitcoin y de Litecoin. Ya está el proceso de sincronización, simplemente tenemos que esperar a que se inicialice todo lo que es el proceso de sincronización, que eso puede tardar algún tiempo dependiendo del tamaño de cada uno de los nodos de las blockchains.

Ahora bien, BTC Pay Server, como ya he dicho antes, nos permite generar un servicio de sistema de pago utilizando nodos que están bajo nuestro completo control. Aquí podemos crear una tienda, manejar plugins, crear una serie de mejoras a lo que es nuestro Pay Server, incluyendo, por ejemplo, la capacidad de crear plugins para Shopify, crowdfunding, puntos de venta, botones de pago para páginas web, y también podemos agregar, obviamente, otros plugins que necesitemos. Por ejemplo, podemos hacer sistemas de intercambio mediante Fixer Flow App, podemos crear sistemas con PodServer, Rockstar HighSplit, una serie de plugins adicionales que están a nuestra disposición y que simplemente podemos instalar haciendo clic dentro de este sistema.

Ahora bien, si queremos crear una tienda, simplemente debemos hacer clic en "Create Store" y darle un nombre a la tienda. Vamos a llamarla "Test", elegimos la moneda fiat que queramos manejar, en este caso podemos manejar USD, podemos elegir euros, yen japonés, el yuan, podemos elegir una serie de monedas o podemos trabajar directamente con Bitcoin, Satoshi o cualquier otro tipo de criptomonedas que esté listado aquí. Vamos a dejarlo en USD y vamos a poner el precio de origen de los precios de criptomonedas directamente desde CoinGecko. Simplemente vamos a utilizar las opciones por defecto en este caso y le damos crear.

Aquí ya hemos creado nuestra primera cuenta, nuestra primera tienda, en este caso la tienda se llama TEST, y lo que podemos hacer es crear una wallet para esta tienda. En este caso, podemos habilitar el uso de Z-Tweet, compatibilidad con opciones de competitividad legacy o taproot. En este caso, vamos a utilizar setwith y vamos a utilizar el sistema de payjoin. Vamos a verificar aquí, tenemos otras opciones como sería el BIP39, es decir, la clave opcional para la generación de nuestra wallet, la seed phrase en este caso, o importar las claves mediante RPC. Estas son opciones avanzadas, así que simplemente vamos a utilizar las opciones por defecto y vamos a crear.

Y aquí está nuestra seed phrase, nuestras 12 palabras que debemos respaldar. Ya con esto hemos creado nuestra primera wallet y ya podemos verla habilitada aquí. Si queremos ver alguna información de nuestra wallet, simplemente podemos ir a la opción de configuración y ver toda la información de nuestra wallet, incluyendo las claves privadas, toda la información que nos coloca dentro del control de nuestro monedero. En este caso, también podemos ver la SID en caso de que no la hayamos repartido o queramos verificar que nuestro respaldo es correcto. Podemos enviar y recibir este pago de manera escrita también. Todo esto con esta interfaz que, obviamente, nos coloca en ventaja con respecto a lo que serían diferentes monederos de este tipo.

Por ejemplo, un monedero como el que parece un sistema de pago, una plaza de pago que no se puede ver, como el que aparece en BitPay, no te permitiría un manejo tan claro o tan preciso como lo hace BTC Pay Server, porque está diseñado para hacer ese tipo de tareas de la forma más sencilla posible. Ahora bien, aquí hemos creado nuestra wallet BTC. Si queremos crear nuestra wallet Litecoin, también la podemos crear. Recuerden que hemos activado esta opción como la segunda criptomoneda que podemos utilizar dentro del sistema, y simplemente tenemos que hacer el mismo procedimiento en caso de que queramos crearla.

Y aquí está, simplemente ya aparecen las dos opciones. Recordemos también que podemos crear monederos de Lightning Network tanto para Bitcoin como para Litecoin. Recuerden que Litecoin también tiene una Lightning Network, pero como estamos en una máquina virtual y tenemos problemas de espacio, hemos elegido una opción de almacenamiento que no nos permite ejecutar monederos Lightning, así que no podemos utilizarlo en este punto. Sin embargo, si tenemos una máquina virtual o un hardware mucho más potente con más almacenamiento, lo ideal sería habilitar esta opción para poder recibir y enviar pagos utilizando Lightning Network.

Ahora bien, en este caso, ya podemos ver aquí todas las opciones del dashboard, viendo el balance que tenemos, cuántos pagos han salido, cuántos pagos tenemos pendientes, las transacciones, toda esta información está manejada directamente desde esta interfaz. Lo mejor de BTC Pay Server es que podemos crear aplicaciones. Es decir, si tenemos una tienda y un monedero asociado a esa tienda, podemos crear aplicaciones. Estas dos aplicaciones son Punto de Venta y CloudFounder. Por lo menos, estos son los dos plugins o aplicaciones que aparecen por defecto dentro de lo que sería una instalación de BTC Pay Server.

Si queremos integrar un punto de venta, por ejemplo, vamos a darle este nombre, POS. Si lo creamos, lo que nos permitirá es ingresar información de los productos y servicios que tenemos para que sean visitados por una persona y que puedan intercambiarlos por algún pago en criptomonedas. En este caso, podemos llegar y simplemente guardar, y si damos vista, vamos entonces a la tienda de té, que en este caso es el nombre que viene por defecto. Fíjense que ya con esto tenemos la primera tienda y una cosa que debemos tener en cuenta es la forma en la que se realizan los pagos. Cada uno de estos elementos que están aquí puede ser editado y deben tener los precios correspondientes en dólares o, en el caso de que estemos utilizando alguna criptomoneda, para realizar esos pagos.

Obviamente, estos pagos deben ser administrados en las monedas correspondientes y, en caso de que queramos cambiar las formas de pago, simplemente podemos ir a "settings", "general" y aquí están las opciones de pago. Por ejemplo, podemos elegir Satoshis, por poner un ejemplo, y salvamos los cambios. Si salvamos los cambios al hacer este cambio y vamos nuevamente a nuestra tienda, podemos ver que si activamos la opción de Satoshis y salvamos, revisamos la tienda, podemos ver que tenemos los pagos en Satoshis y que simplemente podemos empezar a comprar utilizando Satoshis.

Ahora bien, la opción de crowdfunding para proyectos y otro tipo de cuestiones también lo podemos hacer. Simplemente podemos llegar y crear este tipo de opciones, habilitarlas y configurarlas de manera que se ajusten a nuestras necesidades como medio de control para este tipo de funciones dentro de lo que sería BTC Pay Server. Adicionalmente, también tenemos entre los plugins el botón de pago, que es el que nos permitiría activar las opciones para recibir o para embeber botones de pago dentro de las páginas web. Este sería el botón de pago y lo único que tendríamos que hacer es copiar y colocar dentro de nuestras páginas web el código que está aquí abajo generado, y al colocarlo en una web, rápidamente podríamos ver el sistema funcionando dentro de nuestro sistema.

Entonces, por ejemplo, si copiamos este código y lo colocamos en una página web, veríamos este botón de pago y, al hacer clic, se abrirían nuestras opciones de pago para utilizar BTC Pay Server. Todas estas opciones que acabamos de ver son posibles gracias a que tenemos el control completo y total de los nodos que se están ejecutando y que hacen posible la aplicación de BTC Pay Server. Esto es un ejemplo muy claro de por qué la instalación de nodos personales es tan importante a la hora de crear no solamente servicios asociados a esos nodos, sino también para controlar lo que esos nodos manejan. En este caso, las criptomonedas que esos nodos gestionan. La libertad que ofrece este tipo de sistemas es enorme y eso no lo pueden otorgar otros tipos de sistemas.

Puede que sean mucho más sencillos de manejar, puede que sean instalaciones mucho más amplias en el sentido de que pueden ofrecernos una mayor cantidad de criptomonedas, debido a que, por lo menos, BTC Pay Server está bastante limitado en este sentido, pero eso no quita el hecho de que BTC Pay Server nos ofrece un mayor control y la libertad absoluta a la hora de implementar este tipo de software como servicio. Así que espero que les haya gustado esta práctica de cómo instalar BTC Pay Server, cómo utilizarlo y desplegar sus servicios o capacidades dentro de nuestro computador, y tenerlo a nuestra merced para poder implementar con ellos algunos servicios para nosotros o incluso para terceros, porque esto puede ser implementado para terceros. Nos vemos entonces en otra ocasión con mayor información de cómo utilizar otros sistemas de cerradura.