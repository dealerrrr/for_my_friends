---
title: Funcionamiento de los Smart Contracts | David Ortega
URL: https://app.web3mba.io/courses/take/bloque-4-tecnologias-descentralizadas/lessons/39251474-3-2-funcionamiento-de-los-smart-contracts-david-ortega
Tags/Keywords: #Bloque 4 #tecnologias descentralizadas #B4U3 #smart contracts #Funcionamiento de los Smart Contracts #David Ortega
lang: es-AR
---
# Funcionamiento de los Smart Contracts
![[204.B4_Funcionamiento_de_los_Smart_Contracts.mp4]]
[Como funcionan los Smart Contracts](https://app.web3mba.io?wvideo=hlkf46d962)

La forma más sencilla de entender cómo funciona un Smart Contract es a través de un ejemplo. Imagina por un momento que estás en una línea de producción de puertas de seguridad, donde el punto más crítico es el brazo robótico, encargado de colocar en su sitio y realizar la soldadura de cada una de las partes de las puertas. Este brazo robótico está programado para llevar a cabo toda su tarea de forma autónoma. Nadie le ayuda; lo único que necesita es que le lleven los materiales necesarios a su ubicación. Hasta ese punto, nada difiere de la realidad industrial que tenemos actualmente. Sin embargo, este brazo robótico es capaz de hacer cosas que, con los medios actuales, un brazo robótico no podría. Una de esas cosas es, por ejemplo, solicitar mantenimiento a las empresas que lo han creado cada cierta cantidad de horas, siguiendo parámetros de mantenimiento recomendados que fueron aceptados por la empresa al momento de adquirirlo.

No solo eso, el brazo puede gestionar el pago de estos mantenimientos por su propia cuenta. Esto es posible gracias a que puede verificar que dicha operación se ha realizado. Es capaz de revisar el hardware, comprobar que se han hecho los ajustes de mantenimiento y verificar que las reparaciones se han efectuado. Entonces, genera un registro completo de toda la operación e informa del mismo a los encargados de la zona de producción. Al mismo tiempo, antes, durante y después del mantenimiento, el brazo robótico mantiene comunicación con el resto de la línea de producción para avisar, por ejemplo, cuándo va a interrumpir su trabajo, el tiempo estimado de la interrupción y, al final, el tiempo real de la parada. También informa que ya está listo para volver a entrar en acción, porque su mantenimiento ha sido exitoso y su capacidad operativa está dentro de los rangos esperados.

Básicamente, el brazo robótico se ha transformado en un ente de trabajo totalmente autónomo, capaz de gestionar su propio mantenimiento y comunicarse con el resto de la línea de producción y la empresa para realizar un seguimiento verificable de su producción y de su estatus en tiempo real. El ejemplo podría parecer una historia de ciencia ficción, pero es tan real que actualmente empresas de todo el mundo se dedican a lograr esto con un solo fin: mejorar la productividad de las empresas, la seguridad dentro de las mismas y entrar en la era de la automatización y descentralización operativa. De hecho, se le conoce con un nombre bastante particular: la industria 4.0, que abarca la inclusión de tecnologías como IoT, inteligencia artificial, robótica y blockchain dentro de nuestras industrias para hacer más eficientes sus capacidades productivas.

Al fin y al cabo, el mantenimiento adecuado del brazo robótico de nuestro ejemplo es lo que asegura una buena operatividad de la empresa. Que él mismo gestione toda esa operativa deja espacio para que las personas dentro de la empresa puedan centrarse en mejorar sus productos u ofrecer nuevos productos adaptados a las necesidades del mercado, así como reducir los gastos y mejorar la producción. Todo lo anterior es posible gracias a los Smart Contracts, ya que estos elementos definen una serie de reglas, acciones y eventos que son aceptadas por todas las partes y que se ejecutan de forma totalmente autónoma. Una vez que se ponen en ejecución, solo pueden alterarse bajo el consenso de las mismas partes, evitando que un contrato pueda ser reescrito de forma unilateral. Esto último es bastante común y generalmente lleva a malos resultados.

La gestión de recursos en este contexto depende de la compra de servidores, discos duros, ancho de banda, equipos de soporte, UPS, generadores eléctricos, etcétera, así como de software para gestionar toda la granja de servidores. Todo ello conlleva un completo reto de administración y gestión de recursos, que muchas veces son limitados frente a una demanda cada vez mayor. Esta realidad lleva a las empresas a usar sus recursos de forma muy poco eficiente y, en el proceso, se producen errores que pueden ser especialmente costosos para la empresa, pero aún más para sus propios clientes. ¿Cómo de costoso? Pues una pérdida total de una granja de servidores, y todo simplemente por un mantenimiento realizado de forma incorrecta y por unos recursos mal gestionados en el tiempo.

¿Ha pasado algo así? La respuesta es que sí. El caso más sonado, aunque no reciente, ha sido el de VH, que perdió prácticamente dos granjas de servidores por errores administrativos de construcción y de mantenimiento acumulados. Errores que pudieron evitarse haciendo un uso eficiente de sus recursos para evitar el triste desenlace que al final ocurrió: la pérdida de millones de sitios web, miles de terabytes de datos y varios negocios afectados por lo sucedido, incluyendo varios servicios de exchanges de criptomonedas. En el ámbito de las criptomonedas, hay una frase bien conocida por todos: "El código es la ley". Esta frase hace referencia a que lo escrito en el software de los nodos es lo que realmente se hace cumplir en todo momento, siendo que la única manera de cambiarlo es mediante el consenso de la misma comunidad para aceptar dicho cambio.

Básicamente, no debe haber nada fuera del código, sino todo dentro del código. Esta máxima se cumple con los Smart Contracts. Un Smart Contract es simplemente un conjunto de instrucciones informáticas que se ejecutan dentro de una blockchain. Ese conjunto de instrucciones es inamovible; no se pueden cambiar. Si decides interactuar con un Smart Contract, lo haces cumpliendo con tu deseo de hacerlo y por tu libre albedrío, ya que el Smart Contract y las instrucciones que contiene son transparentes; puedes verlas y verificarlas en cualquier momento usando, por ejemplo, un explorador de bloques. Así, lo que ocurre al interactuar con el Smart Contract es algo que aceptas y que está en consonancia con lo que sus creadores han programado. Básicamente, es un contrato tradicional, solo que este no tiene forma de cambiar sus condiciones. Las que están escritas son las condiciones que siempre se habrán de cumplir.

Veamos, por ejemplo, el siguiente Smart Contract de Bitcoin. Este Smart Contract está escrito en Bitcoin Script y básicamente le dice a los nodos de la red Bitcoin lo siguiente: toma los datos de la clave pública y la firma, y copia ambos a la pila de ejecución. Duplica la clave pública dentro del stack. Realiza una operación que se llama RIPEMD-160 sobre la clave pública duplicada y verifica si el resultado de la operación anterior es igual al hash que empieza por 12 y acaba en 8C. Finalmente, se chequea la firma y se verifica que es correcta. ¿De qué sirve todo esto? Este sencillo Smart Contract se conoce como P2PKH y, aunque no diga nada, es la forma más común de transferir valor dentro de la red de Bitcoin. Este script garantiza que solo la persona que recibe una transacción pueda movilizarlo, porque es quien tiene todos los elementos para demostrar y completar las condiciones de uso de Bitcoin que están contenidas en el Smart Contract.

Todo este proceso se da on-chain, es decir, el Smart Contract está en la blockchain y cuando un usuario interactúa con él, dicha interacción se realiza en forma de una transacción que luego es almacenada en un bloque, gracias al trabajo de un minero o nodo validador. Sin embargo, en este punto, el Smart Contract aún no está del todo ejecutado; luego, los nodos ven la operación, verifican la misma y, si todo es correcto, entonces esta es definitivamente ejecutada y aceptada. Este principio básico se mantiene en todas las blockchains, con algunos cambios ajustados a la estructura de funcionamiento de cada una de ellas o a las capacidades de programación de las mismas. Esto deja claro una cosa: Bitcoin sí tiene Smart Contracts. Son complejos y tal vez no tan potentes como en otras plataformas, pero los tiene.