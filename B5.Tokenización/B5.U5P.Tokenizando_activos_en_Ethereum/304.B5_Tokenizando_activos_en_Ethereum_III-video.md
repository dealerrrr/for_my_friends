---
title: 
URL: 
Tags/Keywords: # # # # #
lang: es-AR
---
# titulo
![[304.B5_Tokenizando_activos_en_Ethereum_III.mp4]]
[Titulo](URL)

Para desplegar en la red Matic, específicamente en la red Mumbai Matic, que es la red testnet de Polygon, lo primero que necesitamos es dinero de esa red para poder desplegar. Para ello, vamos a crear una cuenta, la vamos a asociar a nuestro Metamask, vamos a crear la cuenta en ese Metamask y desde ahí vamos a obtener la clave privada de esa cuenta y vamos a conseguir dinero para ella. Esta vez no utilizo navegación privada porque, si no, no puedo acceder a Metamask. Vamos a darle aquí a Metamask. Nos vamos a poner aquí en "Expandir Vista" para que sea más sencillo. Seleccionamos aquí y le vamos a dar a "Crear una cuenta". La vamos a llamar "mba-nft-account". La cuenta da igual dónde la creemos. Ahora mismo estoy conectado a la red de Ganache, pero podemos crearla en cualquier lado.

Ahora vamos a buscar "Polygon Testnet". Y aquí nos salen varias URLs que son de importancia. Por ejemplo, tenemos aquí el explorador de la testnet, mumbai.poligonscan.com. Desde aquí podremos comprobar las transacciones que realizamos, cuando desplegamos el Smart Contract, etc. Luego aquí tenemos el Polygon Faucet. Esta es una web desde la que nosotros introducimos nuestra dirección, nuestra wallet, y entonces nos mandarán un poquito de MATIC para que tengamos suficiente moneda para poder pagar las fees, desplegar el contrato, mintear, etc. Entonces, como ya nos hemos creado una cuenta, la vamos a copiar. Nos van a dar un MATIC. Confirmamos la transacción. Esto va a tardar un poquito, así que lo estamos haciendo antes de lo demás para que nos dé tiempo a hacer otras cosas. Aquí tenemos guías de cómo conectarnos a la red y demás. Porque en Metamask, por defecto, seguramente no tengáis esa red. Pero bueno, podéis buscar en cualquier lado cómo hacerlo. Aquí os van a indicar el nombre de la red, el RPC, el ID de la chain, el símbolo, todo eso. Entonces, nosotros de aquí por ahora nos vamos a copiar únicamente esto. Vosotros, si no lo tenéis en Metamask, deberéis añadir esa red y aquí os aparecerá. Entonces, yo aquí la tengo como Mumbai.

Vale, me cambio y... Ah, pues ya nos han mandado... no nos han mandado un MATIC completo, nos han mandado 0,2. Así que... bueno, vamos a ver si nos pueden dar otro poco. Submit... igual no podemos porque normalmente tarda un ratito. Vale, hasta dentro de unos minutos no vamos a poder. Vamos a ver si con esto podemos seguir adelante. Hemos copiado de la guía, en la documentación oficial también os vendrá, un RPC que esté libre, no hace falta tener una cuenta de Infura ni nada para facilitar las cosas. Entonces, nos venimos de nuevo aquí a nuestro proyecto Hardhat, nos vamos al fichero de configuración y tenemos la red de Ganache. Vamos a añadir otra red que va a ser la red de Mumbai. Aquí vamos a poner la URL.

¿Cuál es el problema? En Ganache o en la red de desarrollo de Hardhat teníamos ya automáticamente una serie de cuentas con dinero que firmaban las transacciones y demás. Ahora mismo no. Tenemos que indicar desde qué cuenta vamos a hacerlo y tenemos que hacerlo de una manera que nos permita firmar las transacciones y demás. No podemos poner simplemente nuestra dirección. Una manera de las más sencillas es poner simplemente la clave privada de la cuenta. Con esto hay que tener cuidado porque, ya sabéis que quien la coja, tendrá el control total sobre la cuenta. Por eso, yo estoy haciendo esto con una cuenta nueva para que no podáis simplemente coger esa private key y usarla. Bueno, esta en concreto la podéis coger porque me va a dar igual, pero no os recomiendo que la cojáis porque igual no va a tener suficientes MATIC. Entonces, nos vamos a poner aquí. Vamos a crear una constante que va a ser `matic-privateKey`. Es... bueno, `matic`, no, perdón, `Mumbai`, para no confundirlo con la testnet, con la mainnet, perdón. Vale, y entonces aquí tenemos que poner cuál va a ser nuestra clave privada. Eso ahora vemos cómo lo hacemos.

Entonces, tenemos aquí la URL y luego aquí hay otro campo que vamos a poner que es `accounts`. En `accounts` tenemos que poner aquí un array con la serie de claves privadas que creamos. En este caso, como solo vamos a tener una, va a ser esta. Pues vamos a por la clave privada. Para ello, aquí en Metamask tenemos esta clave y entonces le damos aquí a "Detalles de la cuenta", que es esta que nos acabamos de crear, y entonces podemos darle aquí a "Exportar clave privada". Entonces aquí voy a introducir mi contraseña, confirmo, y entonces aquí me está generando la clave privada. Vale, pues la copiamos y ahora, de nuevo, volvemos al proyecto y aquí es donde ya la podemos poner. La clave privada, vamos a ponerle antes un `0x` porque esto es un hash hexadecimal, entonces `0x` y la clave privada que hemos copiado. Con esto, ya cuando hagamos un despliegue, lo haremos desde el... cuando estamos haciendo lo del `getSigners` y sacamos el `owner`, va a ser esta. Y con esta ya sabemos que tiene un poco de ether y ya podemos hacer un despliegue.

Vale, pues sin más, vamos a desplegar. Llamamos de nuevo al script de "Deploy NFT Contract" y ahora en la red le vamos a indicar cuál es, que es la de Mumbai. Vale, está haciendo la cuenta D65, comprobamos que coincide, D65 es el mismo nombre. Esto, como ya no es una red de desarrollo, sino que es una red real, pues como veis, tarda un poquito más. Pero bueno, ya parece que ha conseguido desplegarlo. Vemos en dónde se ha desplegado, cuál es el hash de la transacción y demás. Entonces, si nosotros ahora copiamos este hash de transacción y nos vamos al explorador y aquí lo introducimos, entonces vemos que esta es una transacción que ha tenido éxito y ha desplegado un Smart Contract 0e0... que comprobamos que coincide con lo que nos dice aquí, 0e0... Ya tenemos aquí desplegado en una red pública de pruebas nuestro NFT.

Lo siguiente que vamos a hacer es mintear un NFT. Lo que pasa es que nosotros aquí estamos utilizando un test URI de mentira. ¿Por qué no hacemos uno de verdad? Podemos hacerlo, por ejemplo, en IPFS y luego posteriormente lo vamos a ver en OpenSea. ¿Cómo hacemos esto? Necesitamos hostear en IPFS un fichero JSON que tiene que tener un nombre, una descripción y una imagen. Vamos a poner aquí `nft.json`. Aquí lo creamos. Nombre: "myNFT", descripción: "This is a test NFT for Mumbai". Imagen: pues aquí podemos coger cualquiera, no lo sé. Vamos a coger, por ejemplo, una imagen... Igual podemos coger el logo de Web3MBI. Vamos a coger este mismo. Por poner algo, no es de igual que otra. Esto es solo de ejemplo. Entonces, imagen, vamos a poner aquí la URL de la imagen. Vale, pues ya tenemos aquí nuestro JSON válido.

Y claro, vosotros igual me estáis preguntando: ¿por qué tiene esta estructura? ¿por qué no se llama de otra manera? Bueno, eso sí, por ejemplo, si os vais a OpenSea, buscáis "OpenSea metadata". Entonces aquí en los documentos, en la documentación de OpenSea, te explica cómo hacer un token URI que OpenSea sepa interpretar. Por defecto, el nombre, la imagen, la descripción, también tiene otras cosas como external URL, una serie de atributos y tal. Esto está referido también en el estándar de metadatos del ERC721 de Ethereum. Tenemos ya esta información, tenemos el JSON y ahora vamos a hostearlo en alguna red. Una manera que tenemos de hostearlo en IPFS es si nos vamos a una web que se llama nft.storage. Aquí hacemos un login. Este login realmente no es necesario que os hagáis una cuenta con contraseña y tal. Podéis poner aquí un email y a este email os van a mandar una URL con la que ya podréis acceder.

Ahora mismo estoy abriendo mi email para venir aquí con esta URL. Vale, copio el enlace y lo pego. Es un enlace gigante, pero bueno. Vale, con esto ya nos hemos autenticado y entonces aquí ya nos va a aparecer... Como digo, esto va un pelín lento, pero bueno, va a su ritmo. Una vez que esto consiga loggearse, nos van a aparecer aquí nuestros ficheros. Yo tengo aquí algunos que otros. Y entonces vamos a subir un fichero. ¿Cuál es el fichero que vamos a subir? Pues el fichero JSON que hemos generado. Vale. Entonces lo tenemos aquí. Lo voy a arrastrar hasta aquí o podríamos darle a "Choose file" y buscar dónde está "upload". Pues es este de aquí. Podemos ver la fecha, no viene aquí nombre ni nada, entonces ahora está en cola. Entonces, en algún momento esto va a estar.

Entonces, si le damos aquí a copiar la URL del IPFS, cuando nos podemos venir aquí en el mintNFT y entonces, bueno, aquí lo podemos hacer también con una variable `const tokenURI = "la URL copiada"`. Y ya está. Como veis, esto no es HTTP, es IPFS, dos puntos, tal, pero bueno, OpenSea va a ser capaz de interpretar esto correctamente. Aquí ponemos el token URI. Y bueno, vamos a ver si le damos a "View URL" a ver si ha cargado ya. Muy bien, pues ya lo tenemos aquí hosteado. Va ahí en ftnv8, thisisatest, ta en la imagen. Muy bien, pues entonces ya podemos mintear este NFT.

Vale, ahora cuidado porque la dirección que tenemos aquí era la que habíamos dejado previamente, que es la de Ganache, pero no, aquí queremos poner el nuevo, el de Mumbai. Vale, lo copiamos aquí y ahora vamos a mintear NFT igual que hemos hecho antes, solo que en lugar de `--network ganache` va a ser `--network mumbai`. Está utilizando ese contrato. Vemos que lo ha captado bien porque el nombre y el símbolo los coge correctamente. Y ahora, pues va a lanzar la transacción. Va a llamar aquí al mint y va a pasarle el owner address y el token URI. Entonces ahora está esperando a que se confirme. Ya se ha confirmado y vemos incluso cuál es el hash de la transacción: 0xd36... Ahora vamos a comprobar eso, vamos a irnos a la web aquí. Este es el contrato que hemos desplegado antes. Si actualizamos la página en el navegador, aquí vemos que ha habido una transacción, incluso aquí nos dice el método mint, entonces esto lo que nos dice ya es que se ha minteado un NFT. Si vemos aquí, podemos verlo con más detalle. Si vamos aquí a "decode", nos dice que el address ha sido a esta dirección y el token URI es este que hemos puesto.

Muy bien, pues ya tenemos un Smart Contract NFT desplegado en la testnet y ya tenemos un NFT minteado para esta cuenta. ¿Qué vamos a hacer a continuación? Vamos a acceder a OpenSea, solo que como esto es de testnet hay que entrar en testnets.opensea.io. Aquí le vamos a dar a nuestro perfil y entonces nos tenemos que conectar con Metamask. Vale, nos conectamos con Metamask, solo que esta cuenta no es la adecuada, así que vamos a darle aquí y vamos a conectar con "mba-nft-account", que es el que hemos seleccionado antes. Cambiamos de cuenta, fijaos que estáis en la red de Mumbai. Cuando nos conectamos por primera vez, nos va a decir que tenemos que aceptar y tal, entonces aceptamos. Esto nos va a sacar una notificación de Metamask que dice que tenemos que firmar cierta información, pero bueno, esto realmente no es una transacción como tal, así que no vais a gastar gas, por eso no os preocupéis.

Vale, pues entonces le hemos dado de nuevo, vamos al perfil. Vale, entonces tenemos aquí el perfil sin nombre porque esto se acaba de crear y ya nos aparece aquí nuestro NFT. Esta es la colección, este es el NFT específico, lo que pasa es que ahora mismo no aparece la imagen porque los metadatos a veces tardan en cargar, sobre todo cuando estamos utilizando testnet. Pero bueno, esto ya lo tenemos aquí, ya tenemos aquí el nombre del NFT, "MyNFTNBA", y tenemos aquí la descripción, "This is a test NFT for Mumbai", que esto se corresponde con lo que habíamos visto anteriormente, que era la descripción que habíamos puesto. Y aquí, si nos vamos a detalles, podemos acceder hasta la dirección del contrato. Esto nos lleva directamente a lo que hemos visto antes, al explorador. Así que, bueno, con esto ya tenemos todo. ¿Qué más podremos hacer aquí? Bueno, pues también nos podemos personalizar un poco el perfil si queremos. Aquí en ajustes, ahora mismo está sin nombre, pues podemos ponerle un nombre, podemos cambiar la imagen, el audio ya existe, el audio envíe ahí. Vale, y ya se ha guardado, pues ahora nos volvemos a nuestro perfil. Y con la esperanza de que esto se hubiese actualizado... pues no, parece que aún no se ha actualizado. Como digo, en la red de testnet tarda un rato en cargar las imágenes y demás, pero bueno, como ya habéis visto, ya tenemos aquí nuestro NFT con nuestro nombre y con nuestra descripción y parece que ha funcionado todo correctamente, así que vamos a finalizar aquí el vídeo.